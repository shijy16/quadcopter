
import util
import matplotlib.pyplot as plt

def train_and_pre(index,x,y,idx):
    model_x = util.polynomial_model(degree=6)
    model_x.fit(index, x)
    model_y = util.polynomial_model(degree=6)
    model_y.fit(index, y)
    return model_x.predict([[idx]]),model_y.predict([[idx]])

x = [[2.026756763458252], [2.2720627784729004], [2.5460736751556396], [2.837514877319336], [3.119227170944214], [3.4009406566619873], [3.6825900077819824], [3.8783504962921143], [3.9422531127929688], [3.975106716156006], [4.012528896331787], [4.064222812652588], [4.0532612800598145], [3.957897186279297], [3.8132565021514893], [3.656825304031372], [3.4842605590820312], [3.3303635120391846], [3.169386148452759], [2.9637393951416016], [2.720487117767334]]
y = [[2.4750425815582275], [2.472228527069092], [2.4931275844573975], [2.517256736755371], [2.5405068397521973], [2.563817262649536], [2.58707332611084], [2.603140354156494], [2.6064047813415527], [2.607001304626465], [2.6112847328186035], [2.685926914215088], [2.8652117252349854], [3.077009677886963], [3.302764415740967], [3.510882616043091], [3.696415424346924], [3.8216261863708496], [3.8830864429473877], [3.8805534839630127], [3.817230224609375]]
draw_x = [xx[0] for xx in x]
draw_y = [yy[0] for yy in y]
# fig = plt.figure()
pre_x,pre_y = [draw_x[9]],[draw_y[9]]
t = [[0], [1], [2], [3], [4], [5], [6], [7], [8], [9], [10], [11], [12], [13], [14], [15], [16], [17], [18], [19], [20]]
for i in range(10,15):
    xx,yy = train_and_pre(t[7:10],x[7:10],y[7:10],i)
    pre_x.append(xx[0][0])
    pre_y.append(yy[0][0])
print(pre_x)
plt.plot(draw_x,draw_y,c='b')
plt.plot(pre_x,pre_y,c='r')
plt.title('degree=6,3 pts')
plt.show()
